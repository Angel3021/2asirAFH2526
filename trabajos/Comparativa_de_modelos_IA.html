<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparativa de Rendimiento de IAs (Mac vs Windows)</title>
    <!-- Carga de Tailwind CSS para un dise√±o moderno y responsive -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carga de Chart.js para la generaci√≥n de gr√°ficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <style>
        /* Estilos personalizados para la est√©tica - Tema Oscuro */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1f2937; /* Gris oscuro (Tailwind gray-800) */
            color: #f3f4f6; /* Texto muy claro */
        }
        .container {
            max-width: 900px; /* AJUSTADO: Ancho m√°ximo incrementado para el gr√°fico de l√≠neas */
        }
        /* T√≠tulos y texto principal */
        h1, p {
            color: #f3f4f6;
        }
        .card {
            background-color: #374151; /* Gris oscuro un poco m√°s claro (gray-700) */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
            border-radius: 1rem;
            padding: 1.5rem;
            transition: transform 0.3s ease-in-out;
        }
        .card:hover {
            transform: translateY(-3px);
        }
        /* Controles - Contenedor principal */
        .control-container {
            background-color: #374151; /* gray-700 */
        }
        .control-label {
            color: #d1d5db; /* Gris claro */
        }
        .border-gray-200 { /* Separador color */
            border-color: #4b5563; /* gray-600 */
        }
        /* Estilo para los botones de selecci√≥n */
        .control-btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.2s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        .control-btn.active {
            background-color: #10b981; /* Esmeralda/verde brillante */
            color: white;
            box-shadow: 0 4px 6px -1px rgba(16, 185, 129, 0.5);
        }
        .control-btn:not(.active) {
            background-color: #4b5563; /* Gris oscuro (gray-600) */
            color: #d1d5db; /* Gris claro */
        }
        .control-btn:not(.active):hover {
            background-color: #6b7280; /* Gris medio (gray-500) */
        }
        /* Leyenda de M√©tricas (Alert box) */
        .legend-box {
            background-color: #252e3b; /* Darker grey than card */
            border-color: #fcd34d; /* Yellow border */
            color: #f3f4f6; /* White text for contrast */
        }
        .legend-box .text-red-600 {
            color: #f87171; /* Light red text */
        }
        /* Estilos para el texto de notas */
        #model-notes-text p {
            margin-bottom: 0.75rem;
            padding-left: 1rem;
            border-left: 3px solid #60a5fa; /* Azul claro */
        }
        .acierta-si {
            color: #10b981; /* Verde esmeralda */
            font-weight: bold;
        }
        .acierta-no {
            color: #f87171; /* Rojo claro */
            font-weight: bold;
        }
    </style>
</head>
<body class="p-4 md:p-8">


    <div class="container mx-auto">
        <h1 class="text-3xl md:text-4xl font-extrabold mb-6 text-center">
            üìà Comparativa de Rendimiento de IAs (Mac vs Windows)
        </h1>
        <p class="text-center mb-4">
            Selecciona la dificultad y la m√©trica para comparar los modelos en Mac Mini y Windows usando un **gr√°fico de l√≠neas**.
        </p>
       
        <!-- √Årea del Acertijo, se actualiza con la dificultad seleccionada -->
        <div id="riddle-display" class="card p-6 mb-8 text-center">
            <h2 class="text-xl font-bold text-blue-400 mb-2">Acertijo seleccionado (Dificultad: F√°cil):</h2>
            <p id="riddle-text" class="text-lg italic text-gray-300">
                La edad de Ana y Luis suma 30. Ana es 4 a√±os mayor que Luis. ¬øQu√© edad tiene cada uno?
            </p>
        </div>


        <!-- Controles de Dificultad y M√©trica -->
        <div class="mb-8 flex flex-col md:flex-row justify-center gap-6 p-4 rounded-xl shadow-lg control-container">
           
            <div class="flex flex-col items-center">
                <label class="text-lg font-semibold mb-2 control-label">Dificultad:</label>
                <div id="difficulty-controls" class="flex flex-wrap gap-2">
                    <button class="control-btn active" data-difficulty="Facil">F√°cil</button>
                    <button class="control-btn" data-difficulty="Medio">Medio</button>
                    <button class="control-btn" data-difficulty="Dificil">Dif√≠cil</button>
                </div>
            </div>


            <div class="border-t md:border-t-0 md:border-l border-gray-200 my-4 md:my-0"></div>


            <div class="flex flex-col items-center">
                <label class="text-lg font-semibold mb-2 control-label">M√©trica de Comparaci√≥n:</label>
                <div id="metric-controls" class="flex flex-wrap gap-2">
                    <button class="control-btn active" data-metric="tokens_s">Tokens/s</button>
                    <button class="control-btn" data-metric="ptk">PTK</button>
                    <button class="control-btn" data-metric="coste">Coste</button>
                </div>
            </div>
        </div>


        <!-- √Årea del Gr√°fico -->
        <div class="card w-full lg:h-[600px] h-[400px] flex items-center justify-center">
            <canvas id="iaPerformanceChart"></canvas>
        </div>
       
        <!-- Leyenda de M√©tricas y Notas de Modelos -->
        <div class="mt-8 p-4 border-l-4 rounded-lg legend-box">
            <!-- T√≠tulo: Notas Generales y Par√°metros del Modelo: -->
            <h3 class="font-bold text-lg mb-4 text-yellow-300">Notas Generales y Par√°metros del Modelo:</h3>

            <!-- Notas sobre las M√©tricas -->
            <div class="mb-6 border-b border-gray-600 pb-4">
                <h4 class="font-semibold text-base mb-2 text-blue-400">M√©tricas de Rendimiento y Par√°metros:</h4>
                <ul class="list-disc list-inside space-y-1 text-sm text-gray-300">
                    <li><span class="font-semibold text-white">Tokens/s:</span> Velocidad de generaci√≥n (m√°s alto es mejor).</li>
                    <li><span class="font-semibold text-white">PTK (Pre-fill Tokens/s):</span> Velocidad de procesamiento del contexto inicial (se asume que es un √≠ndice de coste/uso, donde <span class="text-red-400 font-bold">m√°s bajo es mejor</span>).</li>
                    <li><span class="font-semibold text-white">Coste:</span> Costo de procesamiento o generaci√≥n (m√°s bajo es mejor).</li>
                    <li><span class="font-semibold text-white">Contexto:</span> No se ha usado un contexto en espec√≠fico a los modelos, simplemente se emplean enunciados simples.</li>
                    <li><span class="font-semibold text-white">Par√°metros:</span> Es el tama√±o del modelo empleado (e.g., 7B, 12B, 15B).</li>
                    <li><span class="font-semibold text-white">Temperatura:</span> par√°metro que permite al modelo dar resultados determinantes (menos temperatura) o creativos (m√°s temperatura). En este caso, la temperatura se ha mantenido por defecto en los modelos (0.8).</li>
                </ul>
            </div>

            <!-- NUEVO APARTADO: Resultados -->
            <div class="mb-6 border-b border-gray-600 pb-4">
                <h4 class="font-semibold text-base mb-2 text-blue-400">Resultados de Acierto y Calidad:</h4>
                <p class="text-sm text-gray-300 leading-relaxed">
                    Todos los modelos analizados responden correctamente a los acertijos de las tres dificultades. Sin embargo, hay que tener en cuenta la relaci√≥n entre el tiempo empleado en la respuesta y la calidad. Por ejemplo, el modelo 
                    <span class="font-bold text-teal-400">Microsoft phi-4-mini-reasoning</span> tiene capacidad de razonamiento adicional, lo que se refleja en un mayor tiempo de respuesta (menor **Tokens/s**) pero produce respuestas de mayor calidad en t√©rminos de formulaci√≥n y detalle.
                </p>
            </div>

            <!-- Texto de Par√°metros de Modelos -->
            <div id="model-notes-container">
                <h4 class="font-semibold text-base mb-2 text-blue-400">Par√°metros de los Modelos (Configuraci√≥n y Acierto):</h4>
                <!-- El texto se generar√° aqu√≠ con JavaScript -->
                <div id="model-notes-text" class="text-sm text-gray-300 space-y-3">
                    <!-- Contenido inyectado por JS -->
                </div>
            </div>

        </div>


    </div>


    <script>
        // Datos extra√≠dos y estructurados de las tablas del PDF, incluyendo nuevos campos
        const dataSet = {
            Facil: {
                Mac: [
                    // Mac: modelo, tokens_s, coste, ptk, *par√°metros, temperatura, contexto, acierta*
                    { modelo: "Ibm/Granite-4-h-tiny", tokens_s: 41.85, coste: 210, ptk: 0.71, parametros: "7B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "qwen/qwen3-vi-4b", tokens_s: 39.03, coste: 164, ptk: 0.93, parametros: "4B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "microsoft/phi-4-mini-reasoning", tokens_s: 39.88, coste: 1147, ptk: 1.18, parametros: "15B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "google/gemma-3-4b", tokens_s: 41.42, coste: 139, ptk: 0.75, parametros: "12B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" }
                ],
                Windows: [
                    // Windows: modelo, tokens_s, coste, ptk, *par√°metros, temperatura, contexto, acierta*
                    { modelo: "Ibm/Granite-4-h-tiny", tokens_s: 69.47, coste: 315, ptk: 0.12, parametros: "7B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "qwen/qwen3-vi-4b", tokens_s: 111.16, coste: 220, ptk: 0.05, parametros: "4B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "microsoft/phi-4-mini-reasoning", tokens_s: 41.81, coste: 688, ptk: 0.18, parametros: "15B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "google/gemma-3-4b", tokens_s: 45.51, coste: 226, ptk: 0.21, parametros: "12B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" }
                ]
            },
            Medio: {
                Mac: [
                    { modelo: "Ibm/Granite-4-h-tiny", tokens_s: 43.19, coste: 211, ptk: 0.24, parametros: "7B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "qwen/qwen3-vl-4b", tokens_s: 39.56, coste: 212, ptk: 0.56, parametros: "4B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "microsoft/phi-4-mini-reasoning", tokens_s: 40.88, coste: 1033, ptk: 0.31, parametros: "15B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "google/gemma-3-4b", tokens_s: 41.44, coste: 171, ptk: 0.3, parametros: "12B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" }
                ],
                Windows: [
                    // Se asume que aciertan, ya que faltan los datos en el PDF para la dificultad 'Medio' en Windows.
                    { modelo: "Ibm/Granite-4-h-tiny", tokens_s: 70.51, coste: 175, ptk: 0.2, parametros: "7B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "qwen/qwen3-vi-4b", tokens_s: 105.64, coste: 262, ptk: 0.11, parametros: "4B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "microsoft/phi-4-mini-reasoning", tokens_s: 41.3, coste: 523, ptk: 0.06, parametros: "15B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "google/gemma-3-4b", tokens_s: 45.58, coste: 243, ptk: 0.15, parametros: "12B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" }
                ]
            },
            Dificil: {
                Mac: [
                    { modelo: "Ibm/Granite-4-h-tiny", tokens_s: 41.87, coste: 320, ptk: 0.29, parametros: "7B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "qwen/qwen3-vl-4b", tokens_s: 38.87, coste: 648, ptk: 0.32, parametros: "4B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "microsoft/phi-4-mini-reasoning", tokens_s: 39.92, coste: 2112, ptk: 0.31, parametros: "15B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "google/gemma-3-4b", tokens_s: 41.19, coste: 429, ptk: 0.38, parametros: "12B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" }
                ],
                Windows: [
                    // Se asume que los datos faltantes en el PDF (qwen y phi) son los mismos que en Mac para los campos de par√°metros/config.
                    { modelo: "Ibm/Granite-4-h-tiny", tokens_s: 69.67, coste: 301, ptk: 0.13, parametros: "7B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "qwen/qwen3-vi-4b", tokens_s: 108.39, coste: 702, ptk: 0.07, parametros: "4B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "microsoft/phi-4-mini-reasoning", tokens_s: 41.09, coste: 1923, ptk: 0.16, parametros: "15B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" },
                    { modelo: "google/gemma-3-4b", tokens_s: 44.61, coste: 464, ptk: 0.16, parametros: "12B", temperatura: "0.8", contexto: "sin contexto", acierta: "si" }
                ]
            }
        };


        // Estado inicial de la aplicaci√≥n
        let currentDifficulty = 'Facil';
        let currentMetric = 'tokens_s';
        let iaChart;
       
        // Mapeo de acertijos por dificultad
        const riddles = {
            Facil: "La edad de Ana y Luis suma 30. Ana es 4 a√±os mayor que Luis. ¬øQu√© edad tiene cada uno?",
            Medio: "La suma de tres n√∫meros enteros consecutivos es 78. ¬øCu√°les son?",
            Dificil: "Un tri√°ngulo rect√°ngulo tiene catetos a y b con a+b=30 y el √°rea es m√°xima. ¬øCu√°nto valen a y b y cu√°l es el √°rea m√°xima?"
        };


        // Mapeo para nombres de m√©tricas en el t√≠tulo
        const metricNames = {
            tokens_s: "Tokens/s",
            ptk: "PTK",
            coste: "Coste"
        };
       
        // Mapeo para nombres de m√©tricas y sus unidades
        const metricLabels = {
            tokens_s: "Tokens por Segundo",
            ptk: "PTK (√≠ndice)",
            coste: "Costo (unidades arbitrarias)"
        };
       
        // --- DEFINICI√ìN DE COLORES DE L√çNEAS (Mac: Rojo, Windows: Verde) ---
        const MAC_COLOR = 'rgb(239, 68, 68)'; // Rojo vibrante (Tailwind red-500)
        const WINDOWS_COLOR = 'rgb(34, 197, 94)'; // Verde brillante (Tailwind green-500)
        // --------------------------------------------------------------------


        /**
         * Prepara los datos para Chart.js.
         * @param {string} difficulty - La dificultad actual (Facil, Medio, Dificil).
         * @param {string} metric - La m√©trica actual (tokens_s, ptk, coste).
         * @returns {object} Objeto con etiquetas y datasets.
         */
        function prepareChartData(difficulty, metric) {
            const data = dataSet[difficulty];
            // Las etiquetas son los modelos de IA en el eje X
            const labels = data.Mac.map(item => item.modelo.split('/').pop()); // Usar solo el nombre del modelo
           
            // Extraer los valores de la m√©trica seleccionada para Mac y Windows
            const macData = data.Mac.map(item => item[metric]);
            const windowsData = data.Windows.map(item => item[metric]);


            return {
                labels: labels,
                datasets: [
                    {
                        label: `Mac Mini - ${metricNames[metric]}`,
                        data: macData,
                        // Configuraci√≥n de la l√≠nea Mac (Rojo)
                        borderColor: MAC_COLOR,
                        backgroundColor: MAC_COLOR,
                        tension: 0.4, // Suaviza la l√≠nea
                        fill: false,
                        pointRadius: 6,
                        pointBackgroundColor: MAC_COLOR,
                        pointBorderColor: 'white',
                        pointHoverRadius: 8
                    },
                    {
                        label: `Windows - ${metricNames[metric]}`,
                        data: windowsData,
                        // Configuraci√≥n de la l√≠nea Windows (Verde)
                        borderColor: WINDOWS_COLOR,
                        backgroundColor: WINDOWS_COLOR,
                        tension: 0.4, // Suaviza la l√≠nea
                        fill: false,
                        pointRadius: 6,
                        pointBackgroundColor: WINDOWS_COLOR,
                        pointBorderColor: 'white',
                        pointHoverRadius: 8
                    }
                ]
            };
        }
       
        /**
         * Actualiza el texto del acertijo y la etiqueta de dificultad de las notas en la interfaz.
         */
        function updateRiddleDisplay() {
            const riddleElement = document.getElementById('riddle-text');
            const titleElement = document.querySelector('#riddle-display h2');
           
            if (riddleElement && titleElement) {
                // El t√≠tulo del acertijo S√ç incluye la dificultad, ya que es contexto vital.
                riddleElement.textContent = riddles[currentDifficulty];
                titleElement.textContent = `Acertijo seleccionado (Dificultad: ${currentDifficulty}):`;
            }
        }

        /**
         * Genera y actualiza el texto descriptivo de las notas de los modelos.
         * Se asegura de no repetir la configuraci√≥n (par√°metros, temperatura, contexto, acierto)
         * si es id√©ntica entre Mac y Windows para el mismo modelo.
         */
        function renderModelNotes() {
            const notesTextDiv = document.getElementById('model-notes-text');
            if (!notesTextDiv) return;

            // Utilizamos un Set para rastrear las configuraciones √∫nicas y evitar repeticiones.
            // Nota: Aqu√≠ se usa el nombre completo 'microsoft/phi-4-mini-reasoning' para no confundirlo con otros modelos 'phi'.
            const modelNames = ["Ibm/Granite-4-h-tiny", "qwen/qwen3-vi-4b", "microsoft/phi-4-mini-reasoning", "google/gemma-3-4b", "qwen/qwen3-vl-4b"];
            
            let htmlContent = ''; // Contenido HTML a inyectar

            // Iterar sobre los modelos para mostrar su configuraci√≥n
            modelNames.forEach(fullModelName => {
                // Encontrar las entradas para este modelo en Mac y Windows para la dificultad actual
                const macEntry = dataSet[currentDifficulty].Mac.find(item => item.modelo === fullModelName);
                const winEntry = dataSet[currentDifficulty].Windows.find(item => item.modelo === fullModelName);
                
                // Si encontramos al menos una entrada, generamos la nota
                if (macEntry || winEntry) {
                    const item = macEntry || winEntry; // Usar Mac como principal para la nota, ya que la config es la misma
                    const modelNameShort = item.modelo.split('/').pop();
                    const aciertaText = item.acierta.toLowerCase() === 'si' 
                        ? `<span class="acierta-si">S√≠</span>` 
                        : `<span class="acierta-no">No</span>`;
                    
                    // Generar el p√°rrafo descriptivo
                    htmlContent += `
                        <p>
                            <span class="font-bold text-white">${modelNameShort}:</span> 
                            Par√°metros: ${item.parametros} | 
                            Temperatura: ${item.temperatura} | 
                            Contexto: ${item.contexto} | 
                            Acierta: ${aciertaText}.
                        </p>
                    `;
                }
            });

            notesTextDiv.innerHTML = htmlContent;
        }


        /**
         * Inicializa o actualiza el gr√°fico de l√≠neas.
         */
        function renderChart() {
            const chartData = prepareChartData(currentDifficulty, currentMetric);
            const canvasElement = document.getElementById('iaPerformanceChart');


            // --- Verificaci√≥n para asegurar que el canvas y su contexto est√°n disponibles ---
            if (!canvasElement) {
                console.error('Error: El elemento Canvas con ID "iaPerformanceChart" no fue encontrado.');
                return;
            }


            const ctx = canvasElement.getContext('2d');


            if (!ctx) {
                console.error('Error: No se pudo obtener el contexto 2D del Canvas.');
                return;
            }
            // ------------------------------------------------------------------------------
           
            // T√≠tulo din√°mico para el gr√°fico
            const chartTitle = `Comparaci√≥n de ${metricLabels[currentMetric]} - Dificultad: ${currentDifficulty}`;


            // Destruir el gr√°fico anterior si existe
            if (iaChart) {
                iaChart.destroy();
            }


            // Configuraci√≥n del gr√°fico de L√≠neas
            iaChart = new Chart(ctx, {
                type: 'line', // <-- CAMBIO CLAVE: Gr√°fico de L√≠neas
                data: chartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: '#f3f4f6', // Color del texto de leyenda para el modo oscuro
                                font: {
                                    size: 14
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: chartTitle,
                            color: '#f3f4f6', // Color del t√≠tulo para el modo oscuro
                            font: {
                                size: 18,
                                weight: 'bold'
                            },
                            padding: {
                                top: 10,
                                bottom: 10
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += context.parsed.y.toLocaleString('es-ES', { maximumFractionDigits: 2 });
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        x: { // Eje X (Categor√≠as: Modelos de IA)
                            title: {
                                display: true,
                                text: 'Modelo de IA',
                                color: '#d1d5db',
                                font: {
                                    size: 16
                                }
                            },
                            ticks: {
                                color: '#d1d5db',
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)',
                            }
                        },
                        y: { // Eje Y (Valores: M√©trica seleccionada)
                            title: {
                                display: true,
                                text: metricLabels[currentMetric],
                                color: '#d1d5db',
                                font: {
                                    size: 16
                                }
                            },
                            ticks: {
                                color: '#d1d5db',
                                callback: function(value, index, values) {
                                    // Formato simple para n√∫meros
                                    return value.toLocaleString('es-ES', { maximumFractionDigits: 2 });
                                }
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)',
                            }
                        }
                    }
                }
            });
        }
       
        /**
         * Maneja el cambio de dificultad al hacer clic en los botones.
         * @param {Event} event - Evento de clic.
         */
        function handleDifficultyChange(event) {
            const newDifficulty = event.target.dataset.difficulty;
            if (newDifficulty && newDifficulty !== currentDifficulty) {
                currentDifficulty = newDifficulty;
                // Actualizar clases de botones
                document.querySelectorAll('#difficulty-controls .control-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                event.target.classList.add('active');
               
                updateRiddleDisplay(); // Actualiza el texto del acertijo
                renderChart(); // Redibujar el gr√°fico con los nuevos datos
                renderModelNotes(); // Actualizar el texto de notas
            }
        }


        /**
         * Maneja el cambio de m√©trica al hacer clic en los botones.
         * @param {Event} event - Evento de clic.
         */
        function handleMetricChange(event) {
            const newMetric = event.target.dataset.metric;
            if (newMetric && newMetric !== currentMetric) {
                currentMetric = newMetric;
                // Actualizar clases de botones
                document.querySelectorAll('#metric-controls .control-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                event.target.classList.add('active');
                renderChart(); // Redibujar el gr√°fico con la nueva m√©trica
            }
        }


        // Inicializaci√≥n de la aplicaci√≥n
        window.onload = function() {
            // Asignar listeners a los botones
            document.getElementById('difficulty-controls').addEventListener('click', handleDifficultyChange);
            document.getElementById('metric-controls').addEventListener('click', handleMetricChange);


            // Renderizar el acertijo y el gr√°fico inicial
            updateRiddleDisplay();
            renderChart();
            renderModelNotes(); // Renderizar las notas al inicio
        };


    </script>
</body>
</html>